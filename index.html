<html ng-app="BattleApp">
  <head>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.8.2/angular.min.js"></script>
    <script src="battle.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="style.css">
</head>
  <body class="container">
    <div ng-controller="PickCharacterController as PickCharacter">
        <h1>Select 2 opponents</h1>
        <ul>
            <li ng-repeat="character in characters">
                <label class="checkbox selected-{{character.selected}}">
                    <input type="checkbox" ng-model="character.selected">
                    <span>{{character.name}}</span> | <span>{{character.class}}</span> | <span>{{character.weapon}}</span>
                </label>
            </li>
        </ul>
        <div>
            <button ng-click="setShowForm()"class="btn btn-dark">Add New character</button> 
            <form 
                ng-if="showForm === true"
                ng-submit="addCharacter()" 
                class="form-horizontal mt-2">
                <input type="text" ng-model="PickCharacter.newCharacterName">
                <button type="submit">Ajouter</button>
                <button ng-click="cancel()">Annuler</button>
            </form>
        </div>
        <div ng-if="selectionIsReady()">
            <button  
                ng-click="setOpponents()"
                class="btn btn-dark mt-2">
                Fight!
            </button> 
            <div class="bordered">
                <ul>
                    <li ng-repeat="opponent in opponents">
                            <span>{{opponent.name}}</span>
                        </label>
                    </li>
                </ul>
            </div>
        </div>
    </div>
  </body>
</html>


<div>
    <button ng-click="setShowForm()"class="btn btn-dark">Add New character</button> 
    <form 
        ng-if="showForm === true"
        ng-submit="addCharacter()" 
        class="form-horizontal mt-2">
        <input type="text" ng-model="PickCharacter.newCharacterName">
        <button type="submit">Ajouter</button>
        <button ng-click="cancel()">Annuler</button>
    </form>
</div>
<div ng-if="selectionIsReady()">
    <button  
        ng-click="setOpponents()"
        class="btn btn-dark mt-2">
        Fight!
    </button> 
    <div class="bordered">
        <ul>
            <li ng-repeat="opponent in opponents">
                    <span>{{opponent.name}}</span>
                </label>
            </li>
        </ul>
    </div>
</div>